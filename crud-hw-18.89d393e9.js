let e=async()=>{try{let e=await fetch("http://localhost:3000/students");return await e.json()}catch(e){return console.log("getDataApi:",e.message),[]}},t=async e=>{try{let t=await fetch("http://localhost:3000/students",{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)});return await t.json()}catch(e){console.log("addDataApi:",e.message)}},a=async(e,t)=>{try{let a=await fetch(`http://localhost:3000/students/${e}`,{method:"PUT",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)});return await a.json()}catch(e){console.log("updateDataApi:",e.message)}},d=async e=>{try{let t=await fetch(`http://localhost:3000/students/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json; charset=UTF-8"}});return await t.json()}catch(e){console.log("deleteDataApi:",e.message)}},n=document.getElementById("add-student-form"),l=document.getElementById("get-students-btn"),s=document.getElementById("update-student-form"),o=document.getElementById("updateModalBackground"),u=document.getElementById("students-table-body"),r=document.getElementById("name"),c=document.getElementById("age"),i=document.getElementById("course"),m=document.getElementById("skills"),g=document.getElementById("email"),y=document.getElementById("isEnrolled"),h=document.getElementById("name-u"),p=document.getElementById("age-u"),E=document.getElementById("course-u"),v=document.getElementById("skills-u"),I=document.getElementById("email-u"),f=document.getElementById("isEnrolled-u");async function w(){try{return await e()}catch(e){return console.log("getStudents:",e.message),[]}}function B(e){u.innerHTML="";let t=e.map(e=>`<tr>
            <td>${e.id}</td>
            <td>${e.name}</td>
            <td>${e.age}</td>
            <td>${e.course}</td>
            <td>${e.skills}</td>
            <td>${e.email}</td>
            <td>${e.isEnrolled}</td>
            <td>
                <button data-update-id="${e.id}">\u{41E}\u{43D}\u{43E}\u{432}\u{438}\u{442}\u{438}</button>
                <button data-delete-id="${e.id}">\u{412}\u{438}\u{434}\u{430}\u{43B}\u{438}\u{442}\u{438}</button>
            <td>
        </tr>`).join("");return u.insertAdjacentHTML("beforeend",t)}async function b(){try{let a=await e(),d={id:String(a.length+1),name:r.value,age:Number(c.value),course:i.value,skills:m.value.split(","),email:g.value,isEnrolled:y.checked};await t(d),r.value="",c.value="",i.value="",m.value="",g.value="",y.checked=!1;let n=await w();B(n)}catch(e){console.log("addStudent:",e.message)}}async function k(e){try{o.classList.toggle("show");let t=(await w()).find(t=>t.id===e);h.value=t.name,p.value=t.age,E.value=t.course,v.value=t.skills.join(","),I.value=t.email,f.checked=t.isEnrolled}catch(e){console.log("updateStudent:",e.message)}}async function T(e){try{await d(e);let t=await w();B(t)}catch(e){console.log("deleteStudent:",e.message)}}l.addEventListener("click",async e=>{e.preventDefault(),B(await w())}),n.addEventListener("submit",e=>{e.preventDefault(),b()}),s.addEventListener("submit",async e=>{e.preventDefault();try{let e=s.dataset.updateId,t={name:h.value,age:Number(p.value),course:E.value,skills:v.value.split(","),email:I.value,isEnrolled:f.checked};await a(e,t),o.classList.toggle("show");let d=await w();B(d),s.removeAttribute("data-update-id")}catch(e){console.log("updateStudentForm form:",e.message)}}),u.addEventListener("click",async e=>{e.preventDefault(),"BUTTON"===e.target.tagName&&(e.target.dataset.deleteId&&T(e.target.dataset.deleteId),e.target.dataset.updateId&&(s.dataset.updateId=e.target.dataset.updateId,k(e.target.dataset.updateId)))}),document.getElementById("closeModal").addEventListener("click",e=>{e.preventDefault(),o.classList.toggle("show")});
//# sourceMappingURL=crud-hw-18.89d393e9.js.map
