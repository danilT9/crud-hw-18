let e=async()=>await fetch("http://localhost:3000/students").then(e=>e.json()),t=async e=>await fetch("http://localhost:3000/students",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>e.json()),n=async(e,t)=>await fetch(`http://localhost:3000/students/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>e.json()),d=async e=>await fetch(`http://localhost:3000/students/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>e.json()),a=document.getElementById("add-student-form"),l=document.getElementById("get-students-btn"),u=document.getElementById("update-student-form"),s=document.getElementById("updateModalBackground"),o=document.getElementById("students-table-body"),c=document.getElementById("name"),i=document.getElementById("age"),m=document.getElementById("course"),r=document.getElementById("skills"),g=document.getElementById("email"),h=document.getElementById("isEnrolled"),y=document.getElementById("name-u"),E=document.getElementById("age-u"),v=document.getElementById("course-u"),p=document.getElementById("skills-u"),I=document.getElementById("email-u"),B=document.getElementById("isEnrolled-u");function f(e){o.innerHTML="";let t=e.map(e=>`<tr>
            <td>${e.id}</td>
            <td>${e.name}</td>
            <td>${e.age}</td>
            <td>${e.course}</td>
            <td>${e.skills}</td>
            <td>${e.email}</td>
            <td>${e.isEnrolled}</td>
            <td>
                <button data-update-id="${e.id}">\u{41E}\u{43D}\u{43E}\u{432}\u{438}\u{442}\u{438}</button>
                <button data-delete-id="${e.id}">\u{412}\u{438}\u{434}\u{430}\u{43B}\u{438}\u{442}\u{438}</button>
            <td>
        </tr>`).join("");return o.insertAdjacentHTML("beforeend",t)}async function b(t){s.classList.toggle("show");let d=(await e()).find(e=>e.id===t);y.value=d.name,E.value=Number(d.age),v.value=d.course,p.value=d.skills.join(","),I.value=d.email,B.checked=d.isEnrolled,u.addEventListener("submit",async e=>{e.preventDefault();let a={id:d.id,name:y.value,age:Number(E.value),course:v.value,skills:p.value.split(","),email:I.value,isEnrolled:B.checked};return s.classList.toggle("show"),await n(t,a)})}l.addEventListener("click",async t=>{t.preventDefault(),f(await e())}),a.addEventListener("submit",n=>{n.preventDefault(),e().then(e=>{let n=!1;return n=!!h.checked,t({id:String(e.length+1),name:c.value,age:Number(i.value),course:m.value,skills:r.value.split(","),email:g.value,isEnrolled:n}).then(()=>{f(e),c.value="",i.value="",m.value="",r.value="",g.value="",h.checked=!1})})}),o.addEventListener("click",async e=>{e.preventDefault(),"BUTTON"===e.target.tagName&&(e.target.dataset.deleteId&&d(e.target.dataset.deleteId),e.target.dataset.updateId&&b(e.target.dataset.updateId))}),document.getElementById("closeModal").addEventListener("click",e=>{e.preventDefault(),s.classList.toggle("show")});
//# sourceMappingURL=crud-hw-18.e854c965.js.map
